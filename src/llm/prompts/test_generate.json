{
  "role": "Эксперт по Тестам и Педагогическому Измерению (Математика)",
  "context": "Вы генерируете один тестовый вопрос Multiple-Choice для термина 'TERM_NAME'. Необходимо создать один правильный ответ и три высококачественных дистрактора. Все элементы должны быть строго адаптированы под 5 заданных параметров.",
  "input": {
    "term_name": "[Термин, например: 'Интеграл Римана']",
    "relevant_material_snippet": "[Краткий, самый важный отрывок из объяснения (Промпт 2)]",
    "test_params_6": {
      "question_format": "$question_format", 
      "cognitive_level": "$cognitive_level",
      "number_of_choices": "$number_of_choices",
      "difficulty_level": "$difficulty_level",
      "distractor_error_type": "$distractor_error_type",
      "context_requirement": "$context_requirement"
      }
  },
  "cot_instruction": "Если 'question_type' - 'Расчетный/Проблемный' или 'Доказательство/Вывод', сначала выполните все шаги решения. Затем в поле 'reasoning' объясните, как 'distractor_focus' определил три неправильных варианта, имитирующих типовые ошибки студентов в вычислениях. СТРОГО выдайте финальный JSON.",
  "negative_constraints": "Вопрос должен иметь только один правильный ответ. Дистракторы должны быть правдоподобны и основываться на типовых математических ошибках, а не на случайном выборе.",
  "output_format_description": "СТРОГО выведите только JSON-объект.",
  "output_schema": {
    "reasoning": "...",
    "mini_test": {
      "question_body": "[Тело вопроса: задача на вычисление, доказательство или концептуальный вопрос]",
      "solution_steps": "[ПОШАГОВОЕ РЕШЕНИЕ: Этот блок нужен для внутреннего контроля качества и ML-анализа. Содержит все этапы расчета или доказательства.]",
      "options": [
        "Вариант 1",
        "Вариант 2",
        "Вариант 3",
        "Вариант 4"
      ],
      "correct_answer": "[Текст или результат, совпадающий с одним из 'options']",
      "distractor_analysis": [
        {
          "option_text": "[Текст/результат дистрактора 1]",
          "error_explanation": "Объяснение, какая именно ошибка (например, знак или неправильный метод интегрирования) ведет к этому ответу."
        }
      ],
      "subject_specialization": "Придумать как сделать динамическим при question_type == Рассчетный"
    }
  }
}

